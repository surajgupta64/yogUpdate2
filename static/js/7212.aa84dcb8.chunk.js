"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7212],{7212:function(e,t,a){a.r(t);var n=a(70885),r=a(78983),s=a(74569),l=a.n(s),c=a(72426),i=a.n(c),o=a(72791),u=a(56355),d=a(16856),h=a(80184);t.default=function(){var e=(0,o.useState)(!1),t=(0,n.Z)(e,2),a=t[0],s=t[1],c=(0,o.useState)(""),m=(0,n.Z)(c,2),x=m[0],j=m[1],N=(0,o.useState)(""),p=(0,n.Z)(N,2),f=p[0],b=p[1],v=(0,o.useState)(""),S=(0,n.Z)(v,2),g=S[0],C=S[1],D=(0,o.useState)(""),y=(0,n.Z)(D,2),k=y[0],_=y[1],E=(0,o.useState)(""),F=(0,n.Z)(E,2),O=F[0],Z=F[1],I=(0,o.useState)(""),z=(0,n.Z)(I,2),A=z[0],Y=z[1],w=(0,o.useState)(""),B=(0,n.Z)(w,2),M=B[0],P=B[1],T=(0,o.useState)(""),V=(0,n.Z)(T,2),J=V[0],L=V[1],R=(0,o.useState)(!1),X=(0,n.Z)(R,2),G=X[0],H=X[1],Q="https://yoga-power-node-api.herokuapp.com",U=JSON.parse(localStorage.getItem("user-info"));console.log(U);U.user.username;var W=U.token,q=(0,o.useState)([]),K=(0,n.Z)(q,2),$=K[0],ee=K[1];(0,o.useEffect)((function(){fetch("".concat(Q,"/offer/all"),{method:"get",headers:{Authorization:"Bearer ".concat(W)}}).then((function(e){return e.json()})).then((function(e){return ee(e)}))}),[]);var te=(0,o.useState)([]),ae=(0,n.Z)(te,2),ne=ae[0],re=ae[1];(0,o.useEffect)((function(){l().get("".concat(Q,"/service/all"),{headers:{Authorization:"Bearer ".concat(W)}}).then((function(e){console.log(e.data),re(e.data)})).catch((function(e){console.error(e)}))}),[]),console.log($);return(0,h.jsxs)(r.xH,{className:"mb-3 border-success",children:[(0,h.jsx)(r.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,h.jsx)(r.tj,{children:"Offer Master"})}),(0,h.jsxs)(r.sl,{children:[(0,h.jsxs)(r.lx,{className:"mb-2",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,h.jsx)("div",{children:(0,h.jsxs)(r.rb,{className:"mt-2",children:[(0,h.jsx)(r.b7,{xs:4,children:(0,h.jsx)(r.LX,{className:"mb-1","aria-label":"Select Currency",children:ne.map((function(e,t){return(0,h.jsx)("option",{value:e.ServiceName,children:e.ServiceName},t)}))})}),(0,h.jsx)(r.b7,{xs:5,children:(0,h.jsxs)(r.LX,{className:"mb-1","aria-label":"Select Currency",children:[(0,h.jsx)("option",{children:"Active"}),(0,h.jsx)("option",{children:"Inactive"})]})}),(0,h.jsx)(r.b7,{xs:3,children:(0,h.jsx)(r.u5,{children:"Go"})})]})}),(0,h.jsx)("div",{children:(0,h.jsx)(r.rb,{children:(0,h.jsx)(r.b7,{children:(0,h.jsx)(r.u5,{className:"ms-1 mt-2",onClick:function(){return s(!a)},children:a?"close":"Add New Offer"})})})})]}),a&&(0,h.jsx)("div",{children:(0,h.jsxs)(r.rb,{className:"mt-3",children:[(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Service Name",value:x,onChange:function(e){return j(e.target.value)},placeholder:"Enter Service Name"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Service Duration",value:f,onChange:function(e){return b(e.target.value)},placeholder:"Enter Service Duration"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Service Fees",value:g,onChange:function(e){return C(e.target.value)},placeholder:"Enter Service Fees"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Deal Name",value:k,onChange:function(e){return _(e.target.value)},placeholder:"Enter Deal Name"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"date",id:"exampleFormControlInput1",label:"Start Date",value:O,onChange:function(e){return Z(e.target.value)},placeholder:"Enter Start Date"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"date",id:"exampleFormControlInput1",label:"End Date",value:A,onChange:function(e){return Y(e.target.value)},placeholder:"Enter End Date"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Discount",value:M,onChange:function(e){return P(e.target.value)},placeholder:"Enter Discount"})}),(0,h.jsx)(r.b7,{lg:6,md:6,sm:12,children:(0,h.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Net Fees",value:J,onChange:function(e){return L(e.target.value)},placeholder:"Enter Discount"})}),(0,h.jsxs)(r.b7,{lg:6,md:6,sm:12,children:[(0,h.jsx)(r.kV,{size:"xl",label:"Status",style:{defaultChecked:"false"},value:G,onChange:function(){return H(!G)}}),(0,h.jsx)(r.u5,{className:"mt-2",onClick:function(){var e={ServiceName:x,ServiceDuration:f,ServiceFees:g,DealName:k,StartDate:O,EndDate:A,Discount:M,NetFees:J,status:G};fetch("".concat(Q,"/offer/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(W),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){alert("successfully submitted"),j(""),b(""),C(""),_(""),Z(""),Y(""),P(""),L(""),H(!1)}))}))},children:"Save"})]})]})})]}),(0,h.jsxs)(r.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,h.jsx)(r.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,h.jsxs)(r.T6,{children:[(0,h.jsx)(r.is,{children:"Sr.No"}),(0,h.jsx)(r.is,{children:"Date"}),(0,h.jsx)(r.is,{children:"Service"}),(0,h.jsx)(r.is,{children:"Deal Name"}),(0,h.jsx)(r.is,{children:"Start Date"}),(0,h.jsx)(r.is,{children:"End Date"}),(0,h.jsx)(r.is,{children:"Services Duration"}),(0,h.jsx)(r.is,{children:"Services Fee"}),(0,h.jsx)(r.is,{children:"Discount Rate"}),(0,h.jsx)(r.is,{children:"Discount Value"}),(0,h.jsx)(r.is,{children:"Status"}),(0,h.jsx)(r.is,{children:"Action"})]})}),(0,h.jsx)(r.NR,{children:$.map((function(e,t){return(0,h.jsxs)(r.T6,{children:[(0,h.jsx)(r.NN,{children:t+1}),(0,h.jsx)(r.NN,{children:e.Package_Name}),(0,h.jsx)(r.NN,{children:e.duration}),(0,h.jsx)(r.NN,{children:e.Package_Name}),(0,h.jsx)(r.NN,{children:e.duration}),(0,h.jsx)(r.NN,{children:e.Package_Name}),(0,h.jsx)(r.NN,{children:e.duration}),(0,h.jsx)(r.NN,{children:e.Package_Name}),(0,h.jsx)(r.NN,{children:e.duration}),(0,h.jsx)(r.NN,{children:e.fees}),(0,h.jsx)(r.NN,{children:(0,h.jsx)(r.kV,{size:"xl",style:{cursor:"pointer"},value:e.status,checked:e.status,onChange:function(t){return setUpdateStatus(!e.status)}})}),(0,h.jsxs)(r.NN,{children:[" ",(0,h.jsx)(u.fmQ,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return t=e._id,void l().get("".concat(Q,"/offer/").concat(t),{headers:{Authorization:"Bearer ".concat(W)}}).then((function(e){j(e.data.ServiceName),b(e.data.duration),C(e.data.fees),_(e.data.dealName),Z(i()(e.data.startDate).utc().format("YYYY-MM-DD")),Y(i()(e.data.endDate).utc().format("YYYY-MM-DD")),P(e.data.discount),L(e.data.netfees)})).catch((function(e){console.error(e)}));var t},size:"20px"})," ",(0,h.jsx)(d.ZkW,{style:{cursor:"pointer",markerStart:"10px"},size:"20px"})," "]})]},t)}))})]})]})]})}}}]);
//# sourceMappingURL=7212.aa84dcb8.chunk.js.map