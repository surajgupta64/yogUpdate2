{"version":3,"file":"static/js/9580.6378e0c7.chunk.js","mappings":"iUAOMA,EAAM,gCAsOZ,UApOqB,WACjB,OAAoCC,EAAAA,EAAAA,UAAS,GAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAAgCN,EAAAA,EAAAA,UAAS,IAAzC,eAAOO,EAAP,KAAiBC,EAAjB,KACA,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOS,EAAP,KAAeC,EAAf,KACA,GAA0BV,EAAAA,EAAAA,UAAS,IAAnC,eAAOW,EAAP,KAAcC,EAAd,KAGA,GAAyBZ,EAAAA,EAAAA,UADZ,MACb,eAAOa,EAAP,KAAcC,EAAd,KACIC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,cACrCC,EAAQL,EAAKK,MACbC,EAAWN,EAAKA,KAAKM,SAC3B,GAA8BrB,EAAAA,EAAAA,UAAS,IAAvC,eAAOsB,EAAP,KAAgBC,EAAhB,KACA,GAAkCvB,EAAAA,EAAAA,UAAS,IAA3C,eAAOwB,EAAP,KAAkBC,EAAlB,KAMA,SAASC,IACLC,IAAAA,IAAA,UAAa5B,EAAb,wBAAwC,CACpC6B,QAAS,CACL,cAAgB,UAAhB,OAA2BR,MAG9BS,MAAK,SAACC,GACHP,EAAWO,EAAIC,MACfC,QAAQC,IAAIH,EAAIC,KACnB,IACAG,OAAM,SAACvB,GACJqB,QAAQrB,MAAMA,EACjB,GACR,EAlBDwB,EAAAA,EAAAA,YAAU,WACNT,IAoBAC,IAAAA,IAAA,UAAa5B,EAAb,qBAAqC,CACjC6B,QAAS,CACL,cAAgB,UAAhB,OAA2BR,MAG9BS,MAAK,SAACC,GACHL,EAAaK,EAAIC,KACpB,IACAG,OAAM,SAACvB,GACJqB,QAAQrB,MAAMA,EACjB,GA5BR,GAAE,IAiCH,IA2BMyB,EAAW,SAACC,GACd,IACIC,EAAO,CAAEC,UADD,IAAIC,MAAOC,sBAEvBC,MAAM,GAAD,OAAI3C,EAAJ,mCAAkCsC,GAAM,CACzCM,OAAQ,OACRf,QAAS,CACL,cAAgB,UAAhB,OAA2BR,GAC3B,OAAU,mBACV,eAAgB,oBAEpBwB,KAAM5B,KAAK6B,UAAUP,KACtBT,MAAK,SAACiB,GACLA,EAAOC,OAAOlB,MAAK,SAACmB,GAChBtB,GACH,GACJ,GACJ,EAoBD,OACI,UAAC,KAAD,CAAOuB,UAAU,sBAAjB,WACI,SAAC,KAAD,CAAaC,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,SAAzD,4BAGA,UAAC,KAAD,YACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAMC,GAAI,EAAV,UACI,SAAC,KAAD,WACI,UAAC,KAAD,YACI,kBAAOH,MAAO,CAAEE,MAAO,OAAvB,SAAiCzC,KACjC,UAAC,KAAD,YACI,SAAC,KAAD,CAAM2C,GAAI,EAAV,UACI,SAAC,IAAD,CAAOC,KAAMC,EAAAA,EAAgBC,KAAK,WAEtC,SAAC,KAAD,CAAMR,UAAU,OAAhB,UACI,SAAC,KAAD,CACIS,KAAK,OACLC,MAAM,gBACNC,YAAY,sBACZC,MAAO1D,EACP2D,SAAU,SAACC,GAAD,OAAO3D,EAAgB2D,EAAEC,OAAOH,MAAhC,UAItB,SAAC,KAAD,CAASZ,UAAU,iBAAiBgB,QA3C9C,WACdzC,EAAU0C,QAAO,SAACC,GAAD,OAAUA,EAAKC,aAAaC,SAASlE,EAArC,IAAoDmE,OACjE9C,EAAU0C,QAAO,SAACC,GAAD,OAAUA,EAAKC,aAAaC,SAASlE,EAArC,IAAoDmE,OACrE9C,EAAU0C,QAAO,SAACC,GAAD,OACbA,EAAKC,aAAaC,SAASlE,EADd,IAEfoE,KAAI,SAACxC,GAAD,OACFzB,EAAUyB,EAAKyC,UACfpE,EAAgB2B,EAAKqC,cACrB5D,EAAYuB,EAAK0C,UACjBvE,EAAc,GACdQ,EAAUqB,EAAKtB,QACfG,EAAS,GANP,IASNA,EAAS,YAEhB,EA2B2B,2BAIXX,GAAc,IAEX,SAAC,KAAD,CAAMoD,GAAI,EAAV,UACI,SAAC,KAAD,WACI,UAAC,KAAD,YACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAMC,GAAI,EAAV,UAEI,SAAC,IAAD,CAAOC,KAAMmB,EAAAA,EAAgBjB,KAAK,WAEtC,SAAC,KAAD,CAAMR,UAAU,OAAhB,UACI,UAAC,KAAD,0BAAwB5C,GAAO,kBAA/B,kBACoBF,GAAa,kBADjC,cAEgBI,GAAS,kBAFzB,WAGaE,EAAS,SAAW,YAAW,0BAI1C,MAATI,IACG,SAAC,KAAD,CAASoC,UAAU,iBAAiBgB,QA/GrD,WACf,IAAIU,GAAO,IAAInC,MAAOC,qBAClBmC,EAAc,IAAIpC,KAClBqC,EAAOD,EAAYE,cAAgB,IAAMF,EAAYG,WACnD,IAAMH,EAAYI,SAExBlE,EAAQ6D,GACR,IAAI5C,EAAO,CACPV,SAAUA,EAAU4D,UAAW5E,EAAQ6E,SAAU3E,EAAU4E,aAAchF,EAAciF,UAAWP,EAAMQ,QAASV,GAGrHjC,MAAM,GAAD,OAAI3C,EAAJ,2BAAkC,CACnC4C,OAAQ,OACRf,QAAS,CACL,cAAgB,UAAhB,OAA2BR,GAC3B,OAAU,mBACV,eAAgB,oBAEpBwB,KAAM5B,KAAK6B,UAAUd,KACtBF,MAAK,SAACmB,GACLA,EAAKD,OAAOlB,MAAK,WACbyD,MAAM,0BACNpF,EAAc,EACjB,GACJ,GACJ,EAsFmC,6BAMJ,IAAfD,IACG,SAAC,KAAD,CAAMoD,GAAI,EAAV,UACI,SAAC,KAAD,WACI,UAAC,KAAD,YACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAMC,GAAI,EAAGL,UAAU,OAAvB,UACI,SAAC,IAAD,CAAOM,KAAMgC,EAAAA,EAAkB9B,KAAK,WAExC,SAAC,KAAD,CAAMR,UAAU,OAAhB,UACI,UAAC,KAAD,0BAAwB5C,GAAO,kBAA/B,kBACoBF,GAAa,kBADjC,oBAEsBU,UAIpB,MAATA,IACG,SAAC,KAAD,CAASoC,UAAU,iBAAiBgB,QAAS,kBAAM/D,EAAc,EAApB,EAA7C,+BASxB,UAAC,KAAD,CAAQ+C,UAAU,OAAOuC,MAAM,SAASC,UAAQ,EAACvC,MAAO,CAAEwC,YAAa,WAAaC,OAAK,EAACC,YAAU,EAApG,WACI,SAAC,IAAD,CAAY1C,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,SAAxD,UACI,UAAC,KAAD,YACI,SAAC,KAAD,qBACA,SAAC,KAAD,0BACA,SAAC,KAAD,6BACA,SAAC,KAAD,yBACA,SAAC,KAAD,0BACA,SAAC,KAAD,4BACA,SAAC,KAAD,6BACA,SAAC,KAAD,sBACA,SAAC,KAAD,yBAGR,SAAC,KAAD,UACK9B,EAAQ4C,QAAO,SAACC,GAAD,OAAUA,EAAK9C,WAAaA,CAA5B,IAAsCkD,KAAI,SAACjC,EAAMuD,GAAP,OACtD,UAAC,KAAD,YACI,SAAC,KAAD,UAAiBA,EAAQ,KACzB,SAAC,KAAD,UAAiBvD,EAAKwD,cACtB,SAAC,KAAD,UAAiBxD,EAAK6C,gBACtB,SAAC,KAAD,UAAiB7C,EAAK4C,YACtB,SAAC,KAAD,UAAiBa,IAAOzD,EAAK0D,WAAWC,OAAO,SAC/C,SAAC,KAAD,UAAiB3D,EAAK+C,WACtB,SAAC,KAAD,UAAiB/C,EAAKC,YACtB,SAAC,KAAD,eAAmC2D,IAAlB5D,EAAKC,UAAyB,SAAC,KAAD,CAASa,MAAM,SAASa,QAAS,kBAAM7B,EAASE,EAAK6D,IAApB,EAAjC,wBAAiF,SAAC,KAAD,CAASC,UAAQ,EAAChD,MAAM,SAASa,QAAS,kBAAM7B,EAASE,EAAK6D,IAApB,EAA1C,0BAChI,UAAC,KAAD,YAAgB,SAAC,MAAD,CAAQjD,MAAO,CAAEmD,OAAQ,UAAWC,YAAa,QAAUrC,QAAS,kBAAMsC,cAAcjE,EAAK6D,IAAzB,EAA+B1C,KAAK,SAAxH,KAAkI,SAAC,MAAD,CAAUP,MAAO,CAAEmD,OAAQ,UAAWC,YAAa,QAAUrC,QAAS,kBAAMsC,cAAcjE,EAAK6D,IAAzB,EAA+B1C,KAAK,SAA5O,SATYoC,EADsC,cAkBjF,C,wDC3OM,IAAMN,EAAmB,CAAC,UAAU,4f,wDCApC,IAAMb,EAAiB,CAAC,UAAU,2d","sources":["views/forms/StaffCheckIn.js","../node_modules/@coreui/icons/js/free/cil-account-logout.js","../node_modules/@coreui/icons/js/free/cil-check-circle.js"],"sourcesContent":["import { cilAccountLogout, cilCheckCircle, cilFingerprint } from '@coreui/icons'\r\nimport CIcon from '@coreui/icons-react'\r\nimport { CButton, CCard, CCardBody, CCardHeader, CCardText, CCol, CFormInput, CRow, CTable, CTableBody, CTableDataCell, CTableHead, CTableHeaderCell, CTableRow } from '@coreui/react'\r\nimport axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { MdDelete, MdEdit } from 'react-icons/md'\r\nimport moment from 'moment/moment'\r\nconst url = 'https://yog-api.herokuapp.com'\r\n\r\nconst StaffCheckin = () => {\r\n    const [attendance, setAttendance] = useState(0);\r\n    const [attendanceID, setAttendanceID] = useState('');\r\n    const [client, setClient] = useState('');\r\n    const [centarId, setCentarId] = useState('');\r\n    const [status, setStatus] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const time = null;\r\n    const [ctime, setDate] = useState(time);\r\n    let user = JSON.parse(localStorage.getItem('user-info'))\r\n    const token = user.token;\r\n    const username = user.user.username;\r\n    const [result1, setResult1] = useState([]);\r\n    const [allClient, setAllclient] = useState([]);\r\n    useEffect(() => {\r\n        getEnquiry()\r\n        getClient()\r\n    }, []);\r\n\r\n    function getEnquiry() {\r\n        axios.get(`${url}/staffAttendance/all`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                setResult1(res.data)\r\n                console.log(res.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n    }\r\n\r\n    function getClient() {\r\n        axios.get(`${url}/employeeForm/all`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                setAllclient(res.data)\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n    }\r\n\r\n\r\n\r\n    const handelTime = () => {\r\n        let time = new Date().toLocaleTimeString();\r\n        var currentdate = new Date();\r\n        var date = currentdate.getFullYear() + \"/\" + currentdate.getMonth()\r\n            + \"/\" + currentdate.getDay();\r\n\r\n        setDate(time);\r\n        let data = {\r\n            username: username, StaffName: client, centerId: centarId, attentanceId: attendanceID, checkDate: date, checkIn: time\r\n        }\r\n\r\n        fetch(`${url}/staffAttendance/create`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then((resp) => {\r\n            resp.json().then(() => {\r\n                alert(\"successfully submitted\")\r\n                setAttendance(2)\r\n            })\r\n        })\r\n    }\r\n\r\n    const CheckOut = (id) => {\r\n        let time2 = new Date().toLocaleTimeString();\r\n        let item = { checkOut: time2 }\r\n        fetch(`${url}/staffAttendance/update/${id}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n        }).then((result) => {\r\n            result.json().then((resp) => {\r\n                getEnquiry()\r\n            })\r\n        })\r\n    }\r\n\r\n    const submitBtn = () => {\r\n        allClient.filter((list) => list.AttendanceID.includes(attendanceID)).length;\r\n        if (allClient.filter((list) => list.AttendanceID.includes(attendanceID)).length) {\r\n            allClient.filter((list) =>\r\n                list.AttendanceID.includes(attendanceID)\r\n            ).map((data) => (\r\n                setClient(data.Fullname),\r\n                setAttendanceID(data.AttendanceID),\r\n                setCentarId(data.CenterID),\r\n                setAttendance(1),\r\n                setStatus(data.status),\r\n                setError('')\r\n            ))\r\n        } else {\r\n            setError('Not Found')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <CCard className=\"mb-3 border-success\">\r\n            <CCardHeader style={{ backgroundColor: '#0B5345', color: 'white' }}>\r\n                Staff CheckIn\r\n            </CCardHeader>\r\n            <CCardBody>\r\n                <CRow>\r\n                    <CCol lg={4}>\r\n                        <CCard>\r\n                            <CCardBody>\r\n                                <label style={{ color: 'red' }}>{error}</label>\r\n                                <CRow>\r\n                                    <CCol xs={5}>\r\n                                        <CIcon icon={cilFingerprint} size=\"8xl\" />\r\n                                    </CCol>\r\n                                    <CCol className='mt-4'>\r\n                                        <CFormInput\r\n                                            type=\"text\"\r\n                                            label='Attendance ID'\r\n                                            placeholder=\"Enter Attendance ID\"\r\n                                            value={attendanceID}\r\n                                            onChange={(e) => setAttendanceID(e.target.value)}\r\n                                        />\r\n                                    </CCol>\r\n                                </CRow>\r\n                                <CButton className='mt-1 float-end' onClick={submitBtn}>Submit</CButton>\r\n                            </CCardBody>\r\n                        </CCard>\r\n                    </CCol>\r\n                    {attendance >= 1 &&\r\n\r\n                        <CCol lg={4}>\r\n                            <CCard>\r\n                                <CCardBody>\r\n                                    <CRow>\r\n                                        <CCol xs={5}>\r\n\r\n                                            <CIcon icon={cilCheckCircle} size=\"8xl\" />\r\n                                        </CCol>\r\n                                        <CCol className='mt-3'>\r\n                                            <CCardText>Staff Name: {client}<br />\r\n                                                Attendance ID: {attendanceID}<br />\r\n                                                Center ID: {centarId}<br />\r\n                                                Status: {status ? 'Active' : 'Inactive'}<br />\r\n                                            </CCardText>\r\n                                        </CCol>\r\n                                    </CRow>\r\n                                    {ctime == null &&\r\n                                        <CButton className='mt-1 float-end' onClick={handelTime}>Check In</CButton>\r\n                                    }\r\n                                </CCardBody>\r\n                            </CCard>\r\n                        </CCol>\r\n                    }\r\n                    {attendance === 2 &&\r\n                        <CCol lg={4}>\r\n                            <CCard>\r\n                                <CCardBody>\r\n                                    <CRow>\r\n                                        <CCol xs={5} className='mt-2'>\r\n                                            <CIcon icon={cilAccountLogout} size=\"7xl\" />\r\n                                        </CCol>\r\n                                        <CCol className='mt-3'>\r\n                                            <CCardText>Staff Name: {client}<br />\r\n                                                Attendance ID: {attendanceID}<br />\r\n                                                Attendance Time: {ctime}\r\n                                            </CCardText>\r\n                                        </CCol>\r\n                                    </CRow>\r\n                                    {ctime != null &&\r\n                                        <CButton className='mt-1 float-end' onClick={() => setAttendance(0)}>Done !</CButton>\r\n                                    }\r\n                                </CCardBody>\r\n                            </CCard>\r\n                        </CCol>\r\n                    }\r\n                </CRow>\r\n\r\n\r\n                <CTable className='mt-3' align=\"middle\" bordered style={{ borderColor: \"#0B5345\" }} hover responsive>\r\n                    <CTableHead style={{ backgroundColor: \"#0B5345\", color: \"white\" }} >\r\n                        <CTableRow >\r\n                            <CTableHeaderCell>Sr.No</CTableHeaderCell>\r\n                            <CTableHeaderCell>Staff Name</CTableHeaderCell>\r\n                            <CTableHeaderCell>Attendance ID</CTableHeaderCell>\r\n                            <CTableHeaderCell>Center ID</CTableHeaderCell>\r\n                            <CTableHeaderCell>Check Date</CTableHeaderCell>\r\n                            <CTableHeaderCell>CheckIn Time</CTableHeaderCell>\r\n                            <CTableHeaderCell>CheckOut Time</CTableHeaderCell>\r\n                            <CTableHeaderCell>Action</CTableHeaderCell>\r\n                            <CTableHeaderCell>Edit</CTableHeaderCell>\r\n                        </CTableRow>\r\n                    </CTableHead>\r\n                    <CTableBody>\r\n                        {result1.filter((list) => list.username === username).map((item, index) => (\r\n                            <CTableRow key={index}>\r\n                                <CTableDataCell>{index + 1}</CTableDataCell>\r\n                                <CTableDataCell>{item.ClientName}</CTableDataCell>\r\n                                <CTableDataCell>{item.attentanceId}</CTableDataCell>\r\n                                <CTableDataCell>{item.centerId}</CTableDataCell>\r\n                                <CTableDataCell>{moment(item.createdAt).format(\"LL\")}</CTableDataCell>\r\n                                <CTableDataCell>{item.checkIn}</CTableDataCell>\r\n                                <CTableDataCell>{item.checkOut}</CTableDataCell>\r\n                                <CTableDataCell>{item.checkOut === undefined ? <CButton color='danger' onClick={() => CheckOut(item._id)}>Check Out</CButton> : <CButton disabled color='danger' onClick={() => CheckOut(item._id)}>Check Out</CButton>}</CTableDataCell>\r\n                                <CTableDataCell><MdEdit style={{ cursor: 'pointer', markerStart: '10px' }} onClick={() => deleteEnquiry(item._id)} size='20px' /> <MdDelete style={{ cursor: 'pointer', markerStart: '10px' }} onClick={() => deleteEnquiry(item._id)} size='20px' /> </CTableDataCell>\r\n                            </CTableRow>\r\n                        ))}\r\n                    </CTableBody>\r\n                </CTable>\r\n            </CCardBody>\r\n        </CCard>\r\n    )\r\n}\r\n\r\nexport default StaffCheckin\r\n","export const cilAccountLogout = [\"512 512\",\"<polygon fill='var(--ci-primary-color, currentColor)' points='77.155 272.034 351.75 272.034 351.75 272.033 351.75 240.034 351.75 240.033 77.155 240.033 152.208 164.98 152.208 164.98 152.208 164.979 129.58 142.353 15.899 256.033 15.9 256.034 15.899 256.034 129.58 369.715 152.208 347.088 152.208 347.087 152.208 347.087 77.155 272.034' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='160 16 160 48 464 48 464 464 160 464 160 496 496 496 496 16 160 16' class='ci-primary'/>\"]","export const cilCheckCircle = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M426.072,86.928A238.75,238.75,0,0,0,88.428,424.572,238.75,238.75,0,0,0,426.072,86.928ZM257.25,462.5c-114,0-206.75-92.748-206.75-206.75S143.248,49,257.25,49,464,141.748,464,255.75,371.252,462.5,257.25,462.5Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='221.27 305.808 147.857 232.396 125.23 255.023 221.27 351.063 388.77 183.564 366.142 160.937 221.27 305.808' class='ci-primary'/>\"]"],"names":["url","useState","attendance","setAttendance","attendanceID","setAttendanceID","client","setClient","centarId","setCentarId","status","setStatus","error","setError","ctime","setDate","user","JSON","parse","localStorage","getItem","token","username","result1","setResult1","allClient","setAllclient","getEnquiry","axios","headers","then","res","data","console","log","catch","useEffect","CheckOut","id","item","checkOut","Date","toLocaleTimeString","fetch","method","body","stringify","result","json","resp","className","style","backgroundColor","color","lg","xs","icon","cilFingerprint","size","type","label","placeholder","value","onChange","e","target","onClick","filter","list","AttendanceID","includes","length","map","Fullname","CenterID","cilCheckCircle","time","currentdate","date","getFullYear","getMonth","getDay","StaffName","centerId","attentanceId","checkDate","checkIn","alert","cilAccountLogout","align","bordered","borderColor","hover","responsive","index","ClientName","moment","createdAt","format","undefined","_id","disabled","cursor","markerStart","deleteEnquiry"],"sourceRoot":""}