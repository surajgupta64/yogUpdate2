"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1497],{81497:function(e,t,n){n.r(t);var a=n(70885),r=n(78983),s=n(74569),l=n.n(s),i=n(72791),c=n(39126),o=n(16856),d=n(80184),u="https://yog-api.herokuapp.com";t.default=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],m=(0,i.useState)(!1),x=(0,a.Z)(m,2),h=x[0],p=x[1],j=(0,i.useState)(),b=(0,a.Z)(j,2),N=b[0],g=b[1],f=(0,i.useState)(""),y=(0,a.Z)(f,2),C=y[0],v=y[1],S=(0,i.useState)(""),I=(0,a.Z)(S,2),k=I[0],O=I[1],_=(0,i.useState)(""),E=(0,a.Z)(_,2),Z=E[0],F=E[1],A=(0,i.useState)(""),z=(0,a.Z)(A,2),H=z[0],T=z[1],W=(0,i.useState)(""),L=(0,a.Z)(W,2),w=L[0],B=L[1],M=(0,i.useState)(""),P=(0,a.Z)(M,2),J=P[0],V=P[1],G=(0,i.useState)([]),R=(0,a.Z)(G,2),D=R[0],q=R[1],K=(0,i.useState)(""),Q=(0,a.Z)(K,2),U=Q[0],X=Q[1],Y=(0,i.useState)(""),$=(0,a.Z)(Y,2),ee=$[0],te=$[1],ne=(0,i.useState)(""),ae=(0,a.Z)(ne,2),re=ae[0],se=ae[1],le=(0,i.useState)(""),ie=(0,a.Z)(le,2),ce=ie[0],oe=ie[1],de=(0,i.useState)(""),ue=(0,a.Z)(de,2),me=ue[0],xe=ue[1],he=(0,i.useState)(""),pe=(0,a.Z)(he,2),je=pe[0],be=pe[1],Ne=JSON.parse(localStorage.getItem("user-info"));console.log(Ne);var ge=Ne.token,fe=Ne.user.username;Ne.user.centerCode;function ye(){l().get("".concat(u,"/guestCallList/all"),{headers:{Authorization:"Bearer ".concat(ge)}}).then((function(e){q(e.data),console.log(e.data)})).catch((function(e){console.error(e)}))}(0,i.useEffect)((function(){ye()}),[]);var Ce=function(e){g(e),function(e){l().get("".concat(u,"/guestCallList/").concat(e),{headers:{Authorization:"Bearer ".concat(ge)}}).then((function(e){v(e.data.name),O(e.data.phone),F(e.data.email),T(e.data.category),B(e.data.address),V(e.data.event),s(!0)})).catch((function(e){console.error(e)}))}(e)};return(0,d.jsxs)(r.rb,{className:"d-flex mb-2",children:[(0,d.jsx)(r.b7,{lg:9,sm:6,className:"mb-2",children:(0,d.jsx)(r.oo,{autohide:!0,visible:h,color:"success",className:"align-items-center",children:(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(r.S3,{style:{color:"white"},children:"Successfully Submitted."}),(0,d.jsx)(r.Pv,{className:"me-2 m-auto"})]})})}),(0,d.jsx)(r.b7,{lg:3,sm:6,className:"mb-2",children:(0,d.jsx)(r.u5,{className:"float-end",onClick:function(){s(!n),g(""),v(""),O(""),F(""),T(""),B(""),V("")},children:n?"Close":"Add New Guest"})}),n&&(0,d.jsx)(r.xH,{className:"mt-2 mb-2",children:(0,d.jsx)(r.sl,{children:(0,d.jsx)(r.lx,{children:(0,d.jsxs)(r.rb,{children:[(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",name:"name",id:"exampleFormControlInput1",label:"Name ",value:C,onChange:function(e){return v(e.target.value)},placeholder:"Enter Name"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Mobile Number",value:k,onChange:function(e){return O(e.target.value)},placeholder:"Enter Mobile Number"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"email",id:"exampleFormControlInput1",label:"Email Address",value:Z,onChange:function(e){return F(e.target.value)},placeholder:"Enter Email Address"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Category",value:H,onChange:function(e){return T(e.target.value)},placeholder:"Enter Category"})}),(0,d.jsx)(r.b7,{lg:6,sm:12,children:(0,d.jsx)(r.PB,{id:"exampleFormControlTextarea1",label:"Address",placeholder:"Enter Address",value:w,onChange:function(e){return B(e.target.value)},rows:"2",text:"Must be 8-20 words long."})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",value:J,onChange:function(e){return V(e.target.value)},label:"Event",placeholder:"Enter Event Name"})}),(0,d.jsx)(r.b7,{className:"mt-4",children:N?(0,d.jsx)(r.u5,{onClick:function(){return function(){var e={username:fe,name:C,mobile:k,email:Z,category:H,address:w,event:J};fetch("".concat(u,"/guestCallList/update/").concat(N),{method:"POST",headers:{Authorization:"Bearer ".concat(ge),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){alert("successfully submitted"),setVisible(!1)}))}))}()},children:"update"}):(0,d.jsx)(r.u5,{onClick:function(){!function(){var e={username:fe,name:C,mobile:k,email:Z,category:H,address:w,event:J};fetch("".concat(u,"/guestCallList/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(ge),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){p(!0),s(!1)}))}))}()},children:"Save"})})]})})})}),(0,d.jsxs)(r.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,d.jsx)(r.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.is,{children:"Sr.No"}),(0,d.jsx)(r.is,{children:"Name"}),(0,d.jsx)(r.is,{children:"Mobile"}),(0,d.jsx)(r.is,{children:"Email"}),(0,d.jsx)(r.is,{children:"Address"}),(0,d.jsx)(r.is,{children:"Category"}),(0,d.jsx)(r.is,{children:"Event"}),(0,d.jsx)(r.is,{children:"Action"}),(0,d.jsx)(r.is,{children:"Edit"})]})}),(0,d.jsxs)(r.NR,{children:[(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"60px"},type:"text",disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"120px"},value:U,onChange:function(e){return X(e.target.value)},"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:ee,onChange:function(e){return te(e.target.value)},type:"number","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"100px"},value:re,onChange:function(e){return se(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"200px"},value:ce,onChange:function(e){return oe(e.target.value)},"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:me,onChange:function(e){return xe(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:je,onChange:function(e){return be(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},type:"text",disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"120px"},disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})})]}),D.filter((function(e){return e.username===fe&&e.name.includes(U)&&e.mobile.toString().includes(ee.toString())&&e.email.includes(re)&&e.address.includes(ce)&&e.category.includes(me)&&e.event.includes(je)})).map((function(e,t){return(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.NN,{children:t+1}),(0,d.jsx)(r.NN,{children:e.name}),(0,d.jsx)(r.NN,{children:e.mobile}),(0,d.jsx)(r.NN,{children:e.email}),(0,d.jsx)(r.NN,{children:e.address}),(0,d.jsx)(r.NN,{children:e.category}),(0,d.jsx)(r.NN,{children:e.event}),(0,d.jsxs)(r.NN,{className:"text-center",children:[(0,d.jsx)("a",{href:"tel:".concat(e.mobile),target:"_black",children:(0,d.jsx)(o.fFs,{style:{cursor:"pointer",markerStart:"10px"},size:"20px"})}),(0,d.jsx)("a",{href:"https://wa.me/".concat(e.mobile),target:"_black",children:(0,d.jsx)(c.RGt,{style:{marginLeft:"4px",cursor:"pointer",markerStart:"10px"},size:"20px"})}),(0,d.jsxs)("a",{href:"mailto: ".concat(e.email),target:"_black",children:[" ",(0,d.jsx)(o.h6V,{style:{cursor:"pointer",markerStart:"10px",marginLeft:"4px"},size:"20px"})]})," "]}),(0,d.jsxs)(r.NN,{className:"text-center",children:[(0,d.jsx)(o.zmo,{id:e._id,style:{fontSize:"35px",cursor:"pointer",markerStart:"10px"},onClick:function(){return Ce(e._id)},size:"20px"})," ",(0,d.jsx)(o.ZkW,{style:{cursor:"pointer",markerStart:"10px",marginLeft:"5px"},onClick:function(){return function(e){fetch("".concat(u,"/guestCallList/delete/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(ge),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(){ye()}))}))}(e._id)},size:"20px"})]})]},t)}))]})]})]})}}}]);
//# sourceMappingURL=1497.501f5cac.chunk.js.map